<!-- catalog-page.html -->

<!-- HERO + BUSCADOR -->
<section class="bg-background-light border-b border-gray-100">
    <div class="max-w-[1440px] mx-auto px-6 md:px-12 py-12">
        <div class="max-w-3xl mx-auto text-center mb-10 md:mb-14">
            <h2 class="text-2xl md:text-5xl font-bold tracking-tight text-gray-900 mb-4">Catálogo de Productos</h2>
            <p class="text-gray-500 text-base md:text-lg max-w-lg mx-auto font-light">
                Calidad y profesionalidad en cada una de nuestras soluciones ortopédicas.
            </p>
        </div>

        <app-catalog-search-bar></app-catalog-search-bar>
    </div>
</section>

<!-- CONTENIDO -->
<main class="max-w-[1440px] mx-auto px-6 md:px-12 py-8 md:py-12">

    <!-- Mobile Filter Toggle -->
    <div class="lg:hidden mb-6">
        <button (click)="toggleFilters()"
            class="w-full flex items-center justify-center gap-2 py-3 px-4 bg-white border border-gray-200 rounded-xl font-bold text-primary shadow-sm active:scale-95 transition-all">
            <span class="material-symbols-outlined text-accent">filter_list</span>
            <span>{{ showFilters() ? 'Ocultar Filtros' : 'Mostrar Filtros' }}</span>
        </button>
    </div>

    <div class="flex flex-col lg:flex-row gap-8 lg:gap-16">

        <!-- SIDEBAR (Desktop) -->
        <aside class="hidden lg:block w-64 flex-shrink-0">
            <div class="sticky top-28">
                <app-catalog-sidebar></app-catalog-sidebar>
            </div>
        </aside>

        <!-- SIDEBAR (Mobile Drawer) -->
        @if (showFilters()) {
        <div class="lg:hidden fixed inset-0 z-[60] flex flex-col bg-white animate-in slide-in-from-bottom duration-300">
            <div class="flex items-center justify-between p-6 border-b border-gray-100">
                <h3 class="text-xl font-bold text-gray-900 uppercase tracking-widest">Filtros</h3>
                <button (click)="toggleFilters()" class="p-2 -mr-2">
                    <span class="material-symbols-outlined text-3xl">close</span>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-6 pb-24">
                <app-catalog-sidebar></app-catalog-sidebar>
            </div>
            <div class="fixed bottom-0 left-0 right-0 p-6 bg-white border-t border-gray-100">
                <button (click)="toggleFilters()"
                    class="w-full py-4 bg-accent text-white font-bold rounded-xl shadow-lg shadow-accent/20">
                    Aplicar Filtros
                </button>
            </div>
        </div>
        }

        <!-- LISTADO -->
        <section class="flex-1">
            <div class="mb-8">
                <app-catalog-toolbar></app-catalog-toolbar>
            </div>

            <app-product-grid></app-product-grid>

            <div class="mt-20">
                <app-catalog-pagination></app-catalog-pagination>
            </div>
        </section>
    </div>
</main>